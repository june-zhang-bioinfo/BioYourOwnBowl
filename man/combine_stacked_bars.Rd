% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/seurat_utils.R
\name{combine_stacked_bars}
\alias{combine_stacked_bars}
\title{Combine a List of Cluster Distribution Plots}
\usage{
combine_stacked_bars(plot_list, layer_order = NULL)
}
\arguments{
\item{plot_list}{A named list of \code{ggplot} objects to be combined.}

\item{layer_order}{Optional character vector specifying the order of plots.
If \code{NULL}, the function will attempt to use the \code{layer_order} attribute
from \code{plot_list} if available.}
}
\value{
A combined \code{ggplot} object (patchwork object) with all subplots arranged
horizontally and legends only on the last plot.
}
\description{
This function takes a list of \code{ggplot} objects (typically generated by
\code{stacked_bar_plots()} for three-layer metadata) and combines them
into a single plot using \code{patchwork::wrap_plots()}. Legends are removed
from all plots except the last one, and subplot widths are dynamically
adjusted based on the number of bars in each plot.
}
\details{
The function automatically:
\itemize{
\item Removes legends from all but the last plot.
\item Reorders plots according to \code{layer_order} or the \code{layer_order} attribute.
\item Dynamically adjusts subplot widths based on the number of bars in each plot.
}
This is useful for visualizing cluster distributions across multiple subsets
of a dataset in a single figure.
}
\examples{
\dontrun{
# Combine a list of plots generated for each level of a third layer
plot_list <- stacked_bar_plots(
  object = seurat_obj,
  idents = "seurat_clusters",
  layers = c("sample", "condition", "treatment"),
  layer_orders = list(
    sample = c("S1", "S2"),
    condition = c("Control", "Treatment"),
    treatment = c("DrugA", "DrugB")
  ),
  colors = RColorBrewer::brewer.pal(8, "Set2")
)
combined <- combine_stacked_bars(plot_list)
print(combined)
}

}
