% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/customized_vis.R
\name{prepare_h5ad}
\alias{prepare_h5ad}
\title{Prepare a Seurat Object for Export to AnnData (.h5ad)}
\usage{
prepare_h5ad(
  object,
  features,
  metadata_vars,
  file_name = "anndata",
  assay = NULL,
  normalize = TRUE
)
}
\arguments{
\item{object}{A Seurat object.}

\item{features}{Character vector of feature (gene) names to retain.}

\item{metadata_vars}{Character vector of metadata column names to keep.}

\item{file_name}{Character string giving the output \code{.h5ad} file name. Default is anndata.}

\item{assay}{Character string giving the assay to use. Defaults to
the Seurat object's current default assay.}

\item{normalize}{Logical; whether to run \code{Seurat::NormalizeData()}.
Defaults to \code{TRUE}.}
}
\value{
Invisibly returns the output file path.
}
\description{
This function subsets, normalizes, and converts a Seurat object into
an AnnData-compatible format for downstream analysis in Python (e.g. Scanpy).
It optionally filters metadata and writes the result to an \code{.h5ad} file.
}
\examples{
\dontrun{
features <- unique(c(VariableFeatures(object), features))
metadata_vars <- c("cell_id", names(density_plot_specs))
prepare_h5ad(object, features, metadata_vars, "exported_data.h5ad")
}
}
